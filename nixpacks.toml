[phases.setup]
nixPkgs = ["jdk17", "maven"]

[phases.build]
cmds = ["mvn clean package -DskipTests"]

[start]
cmd = "java -Dserver.port=$PORT -Dspring.profiles.active=prod -jar target/Washify_BE-0.0.1-SNAPSHOT.jar"

# Force Railway to use Java 17
[variables]
NIXPACKS_JDK_VERSION = "17"
