# ==============================================================================
# WASHIFY PRODUCTION ENVIRONMENT VARIABLES
# ==============================================================================
# Copy file này thành .env.production và điền thông tin thực tế
# Lưu ý: KHÔNG commit file .env.production (đã có trong .gitignore)
# ==============================================================================

# ==============================================================================
# 1. DATABASE CONFIGURATION (PRODUCTION)
# ==============================================================================
# Railway.com tự động tạo MySQL và provide các biến: MYSQL_HOST, MYSQL_PORT, MYSQL_DATABASE, MYSQL_USER, MYSQL_PASSWORD
# Format DATABASE_URL bằng cách reference các biến đó hoặc dùng format jdbc:mysql://
DATABASE_URL=jdbc:mysql://your-production-host:3306/railway?useSSL=true&requireSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true

# Railway sẽ tự động set các biến này, hoặc có thể override:
DATABASE_USERNAME=root
DATABASE_PASSWORD=your-strong-password-here

# ==============================================================================
# 2. HIBERNATE & SQL CONFIGURATION (PRODUCTION - STRICT MODE)
# ==============================================================================
# ⚠️ QUAN TRỌNG: 
# - Lần đầu deploy: dùng 'update' để tạo tables, SQL_INIT_MODE=always để chạy data.sql
# - Sau khi đã có data: đổi sang 'validate' và 'never' để bảo mật
HIBERNATE_DDL_AUTO=update
SQL_INIT_MODE=always

# Tắt show SQL để giảm logs
SHOW_SQL=false
SQL_BINDER_LOG_LEVEL=INFO

# ==============================================================================
# 3. LOGGING CONFIGURATION (PRODUCTION - INFO ONLY)
# ==============================================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=INFO
LOG_LEVEL_SPRING=INFO
LOG_LEVEL_HIBERNATE=WARN

# ==============================================================================
# 4. JWT CONFIGURATION (PRODUCTION - MUST CHANGE!)
# ==============================================================================
# ⚠️⚠️⚠️ PHẢI GENERATE SECRET MỚI! ⚠️⚠️⚠️
# Chạy lệnh: openssl rand -base64 64
JWT_SECRET=GENERATE_NEW_SECRET_WITH_OPENSSL_RAND_BASE64_64_DO_NOT_USE_DEFAULT
JWT_EXPIRATION=43200000

# ==============================================================================
# 5. EMAIL CONFIGURATION (PRODUCTION - GMAIL APP PASSWORD)
# ==============================================================================
# Gmail App Password: https://myaccount.google.com/apppasswords
EMAIL_USERNAME=your-email@gmail.com
EMAIL_PASSWORD=your-app-password-here

# Frontend URL - URL của React app production để tạo link reset password
FRONTEND_URL=https://your-frontend-domain.com

# ==============================================================================
# 6. DEFAULT PASSWORD CONFIGURATION
# ==============================================================================
# ⚠️ Đổi ngay sau khi deploy lần đầu!
DEFAULT_PASSWORD=ChangeThisAfterFirstDeploy123!
GUEST_DEFAULT_PASSWORD=GuestPass@2024!

# ==============================================================================
# 7. MOMO PAYMENT GATEWAY (TEST MODE FOR NOW)
# ==============================================================================
# Test Environment - cho development/testing
MOMO_PARTNER_CODE=MOMOIQA420180417
MOMO_ACCESS_KEY=SvDmj2cOTYZmQQ3H
MOMO_SECRET_KEY=PPuDXq1KowPT1ftR8DvlQTHhC03aul17
MOMO_ENDPOINT=https://test-payment.momo.vn/v2/gateway/api/create

# ⚠️ ĐỔI thành Railway domain của bạn:
MOMO_REDIRECT_URL=https://your-railway-app.railway.app/payment/result
MOMO_IPN_URL=https://your-railway-app.railway.app/api/payments/momo/webhook

# Production MoMo (sau khi đăng ký Business Account):
# MOMO_ENDPOINT=https://payment.momo.vn/v2/gateway/api/create
# MOMO_PARTNER_CODE=YOUR_PARTNER_CODE
# MOMO_ACCESS_KEY=YOUR_ACCESS_KEY
# MOMO_SECRET_KEY=YOUR_SECRET_KEY

# ==============================================================================
# RAILWAY.COM DEPLOYMENT CHECKLIST:
# ==============================================================================
# [ ] Push code lên GitHub
# [ ] Tạo Railway project từ GitHub repo
# [ ] Add MySQL database service
# [ ] Set các biến sau trong Railway Variables:
#     - DATABASE_URL (format jdbc:mysql://...)
#     - DATABASE_USERNAME
#     - DATABASE_PASSWORD
#     - JWT_SECRET (generate mới!)
#     - EMAIL_USERNAME, EMAIL_PASSWORD
#     - FRONTEND_URL (production URL)
#     - DEFAULT_PASSWORD (đổi khác default)
#     - MOMO_REDIRECT_URL, MOMO_IPN_URL (Railway domain)
#     - Tất cả biến HIBERNATE, SQL, LOG theo config trên
# [ ] Deploy và check logs: "✅ Running in PRODUCTION mode"
# [ ] Test API: https://your-app.railway.app/api/actuator/health
# [ ] Import database schema: washify_db.sql
# [ ] Test login, create order, payment flow
# ==============================================================================

