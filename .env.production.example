# ==============================================================================
# WASHIFY PRODUCTION ENVIRONMENT VARIABLES
# ==============================================================================
# Copy file này thành .env.production và điền thông tin thực tế
# Lưu ý: KHÔNG commit file .env.production (đã có trong .gitignore)
# ==============================================================================

# ==============================================================================
# 1. DATABASE CONFIGURATION (PRODUCTION)
# ==============================================================================
# Production Database - SỬ DỤNG DATABASE RIÊNG, KHÔNG DÙNG LOCALHOST
# Format: jdbc:mysql://[host]:[port]/[database]?useSSL=true&requireSSL=true&serverTimezone=UTC
DATABASE_URL=jdbc:mysql://your-production-db-host.com:3306/washify_production?useSSL=true&requireSSL=true&serverTimezone=UTC&characterEncoding=UTF-8&allowPublicKeyRetrieval=false

# Database Credentials - TẠO USER RIÊNG CHO APP, KHÔNG DÙNG ROOT
DATABASE_USERNAME=washify_app_user
DATABASE_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD_MIN_20_CHARS

# ==============================================================================
# 2. HIBERNATE & SQL CONFIGURATION (PRODUCTION - STRICT MODE)
# ==============================================================================
# ⚠️ QUAN TRỌNG: KHÔNG BAO GIỜ dùng 'create' hay 'update' trên production!
# Chỉ dùng 'validate' để verify schema, hoặc 'none' để tắt hoàn toàn
HIBERNATE_DDL_AUTO=validate

# ⚠️ Tắt SQL initialization trên production (dùng migration scripts thay thế)
SQL_INIT_MODE=never

# ⚠️ Tắt show SQL để tránh log quá nhiều và bảo mật
SHOW_SQL=false

# Format SQL (không cần thiết khi show-sql=false, nhưng để đây cho dev debug nếu cần)
FORMAT_SQL=false

# ==============================================================================
# 3. LOGGING CONFIGURATION (PRODUCTION - INFO/WARN ONLY)
# ==============================================================================
# Root logging level - chỉ log INFO trở lên
LOG_LEVEL_ROOT=INFO

# Application logging - có thể để DEBUG nếu cần troubleshoot
LOG_LEVEL_APP=INFO

# Hibernate logging - chỉ log WARNING trở lên để giảm log
LOG_LEVEL_HIBERNATE=WARN

# SQL logging - TẮT hoàn toàn trên production
LOG_LEVEL_SQL=WARN

# Web logging - log request/response errors
LOG_LEVEL_WEB=INFO

# Security logging - quan trọng cho audit trail
LOG_LEVEL_SECURITY=INFO

# ==============================================================================
# 4. JWT CONFIGURATION (PRODUCTION - MUST CHANGE!)
# ==============================================================================
# ⚠️⚠️⚠️ QUAN TRỌNG: PHẢI GENERATE SECRET MỚI CHO PRODUCTION! ⚠️⚠️⚠️
# Tạo secret mới bằng lệnh: openssl rand -base64 64
# hoặc: openssl rand -hex 64
# Secret phải dài tối thiểu 256 bits (32 bytes) để an toàn
JWT_SECRET=GENERATE_NEW_SECRET_WITH_OPENSSL_RAND_BASE64_64_MIN_256_BITS

# JWT Expiration: 86400000 ms = 24 giờ
# Production nên để ngắn hơn dev, ví dụ: 28800000 (8 giờ) hoặc 43200000 (12 giờ)
JWT_EXPIRATION=43200000

# ==============================================================================
# 5. EMAIL CONFIGURATION (PRODUCTION - SMTP SETTINGS)
# ==============================================================================
# SMTP Server - sử dụng email service provider (Gmail, SendGrid, AWS SES, etc.)
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587

# Email credentials - SỬ DỤNG APP PASSWORD, KHÔNG DÙNG PASSWORD THẬT!
# Gmail: https://myaccount.google.com/apppasswords
MAIL_USERNAME=your-production-email@gmail.com
MAIL_PASSWORD=your-app-specific-password-here

# Email sender
MAIL_FROM=noreply@washify.com

# SMTP Properties
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS_ENABLE=true
MAIL_SMTP_SSL_TRUST=smtp.gmail.com

# ==============================================================================
# 6. DEFAULT PASSWORD CONFIGURATION (PRODUCTION)
# ==============================================================================
# ⚠️ Default Admin Password - ĐỔI NGAY SAU KHI DEPLOY!
# Password này dùng để tạo admin account đầu tiên
# SAU ĐÓ PHẢI đổi qua UI ngay lập tức
ADMIN_DEFAULT_PASSWORD=ChangeThisImmediatelyAfterDeploy123!@#

# Guest User Password - dùng cho tính năng "Đặt hàng không cần đăng ký"
# Có thể để password phức tạp vì user không cần biết
GUEST_USER_PASSWORD=ComplexGuestPassword2024!@#$%^&*

# ==============================================================================
# 7. MOMO PAYMENT GATEWAY CONFIGURATION (PRODUCTION)
# ==============================================================================
# ⚠️⚠️⚠️ PRODUCTION MOMO SETTINGS ⚠️⚠️⚠️
# Cần đăng ký MoMo Business Account tại: https://business.momo.vn

# Production Endpoint - KHÁC VỚI TEST ENVIRONMENT!
MOMO_ENDPOINT=https://payment.momo.vn/v2/gateway/api/create

# MoMo Partner Code - nhận từ MoMo Business Portal
MOMO_PARTNER_CODE=YOUR_PRODUCTION_PARTNER_CODE

# MoMo Access Key - nhận từ MoMo Business Portal
MOMO_ACCESS_KEY=YOUR_PRODUCTION_ACCESS_KEY

# MoMo Secret Key - nhận từ MoMo Business Portal (BẢO MẬT TUYỆT ĐỐI!)
MOMO_SECRET_KEY=YOUR_PRODUCTION_SECRET_KEY

# Redirect URL - URL frontend production để redirect sau khi thanh toán
# Ví dụ: https://washify.com/payment/result
MOMO_REDIRECT_URL=https://your-production-domain.com/payment/result

# IPN URL - Webhook URL để MoMo gọi về khi có kết quả thanh toán
# ⚠️ PHẢI là HTTPS public URL, MoMo không gọi được localhost!
# Ví dụ: https://api.washify.com/api/payments/momo/webhook
MOMO_IPN_URL=https://your-production-api-domain.com/api/payments/momo/webhook

# ==============================================================================
# 8. SERVER CONFIGURATION (PRODUCTION)
# ==============================================================================
# Server Port - hosting thường tự set, nhưng có thể override
SERVER_PORT=8080

# Context Path - nếu deploy dưới subpath
# Ví dụ: /api -> https://domain.com/api/...
# SERVER_CONTEXT_PATH=/api

# ==============================================================================
# 9. SPRING PROFILES (PRODUCTION)
# ==============================================================================
# Active Profile - set 'prod' để load application-prod.properties (nếu có)
SPRING_PROFILES_ACTIVE=prod

# ==============================================================================
# 10. SECURITY CONFIGURATION (PRODUCTION)
# ==============================================================================
# CORS Configuration - chỉ cho phép domain production
# ALLOWED_ORIGINS=https://washify.com,https://www.washify.com

# Session Timeout (minutes)
# SERVER_SERVLET_SESSION_TIMEOUT=30

# ==============================================================================
# 11. FILE UPLOAD CONFIGURATION (PRODUCTION)
# ==============================================================================
# Max file size (MB)
# SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=10MB
# SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=10MB

# ==============================================================================
# CHECKLIST TRƯỚC KHI DEPLOY:
# ==============================================================================
# [ ] Đã đổi DATABASE_URL sang production database
# [ ] Đã tạo database user riêng (không dùng root)
# [ ] Đã generate JWT_SECRET mới (openssl rand -base64 64)
# [ ] Đã set HIBERNATE_DDL_AUTO=validate
# [ ] Đã set SQL_INIT_MODE=never
# [ ] Đã set SHOW_SQL=false
# [ ] Đã đổi tất cả LOG_LEVEL sang INFO/WARN
# [ ] Đã đổi ADMIN_DEFAULT_PASSWORD
# [ ] Đã setup MoMo Business Account
# [ ] Đã đổi MOMO_ENDPOINT sang production endpoint
# [ ] Đã điền MOMO credentials từ MoMo Business Portal
# [ ] Đã set MOMO_REDIRECT_URL và MOMO_IPN_URL sang domain production
# [ ] Đã setup SSL/HTTPS cho domain (Let's Encrypt)
# [ ] Đã config firewall (chỉ mở port 80, 443, 22)
# [ ] Đã setup backup database tự động
# [ ] Đã test connection từ production server đến database
# [ ] Đã verify file .env.production KHÔNG được commit lên Git
# ==============================================================================
